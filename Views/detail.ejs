<%- include('partials/header') %>

<div class="container">
    <div class="breadcrumb">
        <a href="/" class="breadcrumb-link">
            <i class="fas fa-arrow-left"></i>
            Retour aux logements
        </a>
    </div>
    
    <div class="logement-detail">
        <div class="detail-header">
            <h1 class="detail-title"><%= logement.titre %></h1>
            <div class="detail-location">
                <i class="fas fa-map-marker-alt"></i>
                <span><%= logement.ville %></span>
            </div>
        </div>
        
        <div class="detail-image">
            <img src="<%= logement.image %>" alt="<%= logement.titre %>">
        </div>
        
        <div class="detail-content">
            <div class="detail-main">
                <div class="detail-info">
                    <div class="info-stats">
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span><%= logement.capacite %> voyageurs</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-bed"></i>
                            <span><%= logement.chambres %> chambre<%= logement.chambres > 1 ? 's' : '' %></span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-star"></i>
                            <span>4.8 (24 avis)</span>
                        </div>
                    </div>
                    
                    <div class="info-description">
                        <h3>Description</h3>
                        <p><%= logement.description %></p>
                    </div>
                    
                    <div class="info-amenities">
                        <h3>Équipements</h3>
                        <div class="amenities-grid">
                            <% logement.equipements.forEach(equipement => { %>
                                <div class="amenity-item">
                                    <i class="fas fa-check"></i>
                                    <span><%= equipement %></span>
                                </div>
                            <% }) %>
                        </div>
                    </div>
                    
                    <!-- Carte bonus -->
                    <div class="info-location">
                        <h3>Localisation</h3>
                        <div id="map" class="map-container"></div>
                        <script>
                            // Données pour la carte
                            window.logementData = {
                                lat: <%= logement.coordonnees.lat %>,
                                lng: <%= logement.coordonnees.lng %>,
                                title: '<%= logement.titre %>',
                                ville: '<%= logement.ville %>'
                            };
                        </script>
                    </div>
                </div>
            </div>
            
            <div class="detail-sidebar">
                <div class="booking-card">
                    <div class="booking-price">
                        <span class="price-amount"><%= logement.prix %>€</span>
                        <span class="price-period">par nuit</span>
                    </div>
                    
                    <div class="booking-form">
                        <div class="form-group">
                            <label for="checkin">Arrivée</label>
                            <input type="date" id="checkin" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="checkout">Départ</label>
                            <input type="date" id="checkout" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="guests">Voyageurs</label>
                            <select id="guests" class="form-input">
                                <% for(let i = 1; i <= logement.capacite; i++) { %>
                                    <option value="<%= i %>"><%= i %> voyageur<%= i > 1 ? 's' : '' %></option>
                                <% } %>
                            </select>
                        </div>
                        
                        <button class="booking-btn" onclick="reserverLogement()">
                            <i class="fas fa-calendar-check"></i>
                            Réserver
                        </button>
                    </div>
                    
                    <div class="booking-note">
                        <i class="fas fa-info-circle"></i>
                        <small>Vous ne serez pas débité pour le moment</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('partials/footer') %>